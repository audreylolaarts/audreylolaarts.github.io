<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Voronoi Conclusions</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    font-family: 'Cormorant Garamond', serif;
    overflow: hidden;
  }

  /* scroll container with snapping */
  .scroll-container {
    height: 100vh;
    width: 100vw;
    overflow-y: scroll;
    scroll-snap-type: y mandatory;
    scroll-behavior: smooth;
  }

  .scroll-container::-webkit-scrollbar { width: 0; background: transparent; }

  /* background canvas */
  #demo {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    z-index: 0;
  }

  /* overlay sections */
  .section {
    scroll-snap-align: start;
    scroll-snap-stop: always;
    flex-shrink: 0;
    height: 100vh;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 3rem;
    width: 75%;
    margin: 0 auto;
    background: rgba(255,255,255,0.95);
    border-radius: 12px;
    overflow-y: auto;
    position: relative;
  }

  .section .inner-scroll {
  max-height: 80vh;  /* leaves space for arrow */
  overflow-y: auto;
  padding-right: 10px; /* avoid scrollbar overlap */
}

  /* fade-in animation */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 3s ease, transform 1.2s ease;
  }
  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* typography */
  .title { font-size: 4rem; font-weight: 600; letter-spacing: 2px; margin-bottom: 1rem; }
  .subtitle { font-size: 2rem; font-weight: 400; opacity: 0.8; margin-bottom: 3rem; }
  .equation { font-size: 1.5rem; font-weight: 500; margin: 2rem 0; }
  .definition { font-size: 1.25rem; max-width: 800px; line-height: 1.6; margin: 2rem auto; }
  .quote { font-size: 1.5rem; font-style: italic; font-weight: 300; opacity: 0.9; max-width: 800px; margin-top: 3rem; }
  .quote b { font-weight: 600; }
  .big-question { font-size: 3.5rem; font-weight: 700; opacity: 0.95; margin-bottom: 2rem; }
  .resources { margin-top: 2rem; font-size: 1.2rem; line-height: 2; text-align: left; max-width: 600px; }
  .resources a { color: #333; text-decoration: underline; }

  /* down arrow */
  .down-arrow {
    position: absolute;
    bottom: 20px;
    font-size: 2rem;
    animation: bounce 2s infinite;
    opacity: 0.6;
  }
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(10px); }
    60% { transform: translateY(5px); }
  }

  /* smooth scroll for mouse wheel */
  .scroll-container {
    scroll-behavior: smooth;
  }
</style>
</head>
<body>
  <!-- background sketch -->
  <div id="demo"></div>

  <!-- scrollable pages -->
  <div class="scroll-container">

    <!-- Page 1 -->
    <div class="section">
      <div class="fade-in title">Voronoi Tessellations</div>
      <div class="fade-in subtitle">A Poetry of Efficiency</div>

      <div class="fade-in equation">
        V<sub>i</sub> = { x ∈ ℝ<sup>2</sup> ∣ d(x,p<sub>i</sub>) ≤ d(x,p<sub>j</sub>) for all j≠i }
      </div>

      <div class="fade-in definition">
        The Voronoi cell of a point p<sub>i</sub> is the set of all points x in the plane 
        that are closer to p<sub>i</sub> than to any other point p<sub>j</sub> (where j ≠ i).
      </div>

      <div class="fade-in quote">
        “Even kindergarteners know how to make Voronoi tessellations. Throw some candy in a kindergarten 
        classroom where children are randomly playing. Once the candy lands, tell the kids to run to the candy 
        that is closest to them” <b>(Javier Buceta)</b>.
      </div>

      <div class="down-arrow">&#x2193;</div>
    </div>

    <!-- Page 2 -->
  <!-- Page 2 -->
<div class="section">
    <div class="fade-in big-question">Why is this pattern everywhere?</div>
  
    <div class="fade-in definition" style="font-weight: 400; font-size: 1.5rem; margin-top: 2rem; text-align: left; max-width: 650px;">
      <span style="font-weight:600;">Efficiency</span> — Voronoi tessellations minimize wasted space.  
      They often require the least energy to cover the most surface area.  
      <span style="font-weight:600;">A beauty that emerges from resource constraint, rather than conscious design.</span>
    </div>
  
    <div class="fade-in definition" style="font-weight: 400; font-size: 1.35rem; margin-top: 2rem; text-align: left; max-width: 650px;">
      I typically think of efficiency as the opposite of poetry.
      Poetry is in the excess, the waste, the gratuitous ritual. 
  
      <div style="margin-top: 1rem;">
        But apparently efficient does not have to mean ordered... energy efficient ≠ low entropy. 
        Highly chaotic systems can be very energy efficient.  
        <span style="font-style:normal;">For some reason that makes me mischievously happy...</span>
      </div>
    </div>
  
    <div class="down-arrow">&#x2193;</div>
  </div>

    <!-- Page 3 -->
    <div class="section">
      <div class="fade-in title">Fin!</div>

      <div class="fade-in resources">
        <ul>
          <li><a href="https://editor.p5js.org/" target="_blank">Learn to draw code sketches with p5.js</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Lloyd%27s_algorithm" target="_blank">Wikipedia: Lloyd's Algorithm</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Fortune%27s_algorithm" target="_blank">Wikipedia: Fortune's Algorithm</a></li>
          <li><a href="http://www.raymondhill.net/voronoi/rhill-voronoi.html" target="_blank">Rhill Voronoi Library</a></li>
        </ul>
      </div>
    </div>

  </div>

  <!-- scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
  <script src="libraries/rhill-voronoi-core.js"></script>
  <script src="libraries/p5.voronoi.min.js"></script>
  <script src="voronoibasic.js"></script>

  <script>
    // fade-in observer
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.2 });
    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
  </script>
</body>
</html>
